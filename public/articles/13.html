<h1 class="article-title">Python (FastAPI). –°—Ç–∞—Ç—å—è. –ü—Ä–æ–µ–∫—Ç REST API - UnivercityAPI</h1>
<div class="article-meta">
    <span>üóì 23 –∏—é–Ω—è 2025</span>
    <span>üè∑Ô∏è Python, FastAPI</span>
</div>
<h3 class="section-title">–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ, –∫–∞—Ä–∫–∞—Å –ø—Ä–æ–µ–∫—Ç–∞</h3>
<p>–í –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ –æ–ø–∏—à–µ–º –∞–ø–∏ –¥–ª—è –Ω–µ–∫–æ–µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞. –ö–∞–∫ –∏ –≤ –ª—é–±–æ–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ, –µ—Å—Ç—å –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç—ã, —Ç–∞–∫ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏–º–µ–µ—Ç—Å—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—ã, –∫—É—Ä—Å—ã –∏ –ø—Ä–æ—á–µ–µ. –í –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ —ç—Ç–æ –æ–ø—É—â–µ–Ω–æ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—É–¥–µ–Ω—Ç—ã –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, –∞ –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–∏–º —É –Ω–∞—Å —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON —Ñ–∞–π–ª–∞—Ö (—ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞—è –ë–î).</p>
<p>–°–æ–∑–¥–∞–º JSON —Å –∏–º–µ–Ω–µ–º students.json –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–æ–º–µ—Å—Ç–∏–º –≤ –Ω–µ–≥–æ 10 –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:</p>
<pre><code class="lang-json">[
    {
        "student_id": 1,
        "first_name": "–ò–≤–∞–Ω",
        "last_name": "–ò–≤–∞–Ω–æ–≤",
        "date_of_birth": "1998-05-15",
        "email": "ivan.ivanov@example.com",
        "phone_number": "+7 (123) 456-7890",
        "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5",
        "enrollment_year": 2017,
        "major": "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",
        "course": 3,
        "special_notes": "–ë–µ–∑ –æ—Å–æ–±—ã—Ö –ø—Ä–∏–º–µ—Ç"
    },
    ...
    {
        "student_id": 10,
        "first_name": "–û–ª—å–≥–∞",
        "last_name": "–ù–∏–∫–∏—Ç–∏–Ω–∞",
        "date_of_birth": "1999-06-20",
        "email": "olga.nikitina@example.com",
        "phone_number": "+7 (012) 345-6789",
        "address": "–≥. –¢–æ–º—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 60, –∫–≤. 18",
        "enrollment_year": 2018,
        "major": "–≠–∫–æ–ª–æ–≥–∏—è",
        "course": 3,
        "special_notes": "–ë–µ–∑ –æ—Å–æ–±—ã—Ö –ø—Ä–∏–º–µ—Ç"
    }
]</code></pre>
<p>–ü–æ–∫–∞ —á—Ç–æ –º–æ–∂–Ω–æ —Ä–∞—Å—Ü–µ–Ω–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤, –∫–∞–∫ —Ç–∞–±–ª–∏—Ü—É –≤ SQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p>
<p>–°–æ–∑–¥–∞–¥–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ. –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ–º —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å –≤ app. –§–∞–π–ª requirements.txt –ø–æ–∫–∞ —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p>
<pre><code class="lang-plain">fastapi[all]</code></pre>
<p>–ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ —Å–æ–∑–¥–∞–¥–∏–º —Ç–∞–∫ –∂–µ –¥–≤–∞ —Ñ–∞–π–ª–∞ - tests.py (—Ç—É—Ç –±—É–¥—É—Ç —Ç–µ—Å—Ç—ã) –∏ utils.py (—Ç—É—Ç –±—É–¥—É—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏). –°–æ–¥–µ—Ä–∂–º–∏–æ–µ utils.py:</p>
<pre><code class="lang-py">import json


def dict_list_to_json(dict_list, filename):
    """
    –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π –≤ JSON-—Å—Ç—Ä–æ–∫—É –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ —Ñ–∞–π–ª.

    :param dict_list: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π
    :param filename: –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON-—Å—Ç—Ä–æ–∫–∏
    :return: JSON-—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
    """
    try:
        json_str = json.dumps(dict_list, ensure_ascii=False)
        with open(filename, 'w', encoding='utf-8') as file:
            file.write(json_str)
        return json_str
    except (TypeError, ValueError, IOError) as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π –≤ JSON –∏–ª–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª: {e}")
        return None


def json_to_dict_list(filename):
    """
    –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JSON-—Å—Ç—Ä–æ–∫—É –∏–∑ —Ñ–∞–π–ª–∞ –≤ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π.

    :param filename: –ò–º—è —Ñ–∞–π–ª–∞ —Å JSON-—Å—Ç—Ä–æ–∫–æ–π
    :return: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π –∏–ª–∏ None –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏
    """
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            json_str = file.read()
            dict_list = json.loads(json_str)
        return dict_list
    except (TypeError, ValueError, IOError) as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ JSON –∏–∑ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –≤ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π: {e}")
        return None
</code></pre>
<h3 class="section-title">–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª, –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ –∞–ø–∏</h3>
<p>–ù–∞—á–Ω–µ–º –ø–∏—Å–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (app/main.py):</p>
<pre><code class="lang-py">import os

from fastapi import FastAPI

from utils import json_to_dict_list

path_to_json = os.path.join(os.path.dirname(os.path.dirname(os.path.abspath(__file__))), 'students.json')

app = FastAPI()


@app.get("/")
def home_page():
    return {"message": "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!"}

@app.get("/students")
def get_all_students(
    course: int | None = None,
    major: str | None = None,
    enrollment_year: int | None = None,
):
    students = json_to_dict_list(path_to_json)
    if not course and not major and not enrollment_year:
        return students

    return_students = []
    if course:
        for student in students:
            if student["course"] == course:
                return_students.append(student)
    if major:
        return_students = [student for student in return_students if student['major'].lower() == major.lower()]
    if enrollment_year:
        return_students = [student for student in return_students if student['enrollment_year'] == enrollment_year]
    return return_students

@app.get("/students/{id}")
def get_student_by_id(id: int):
    students = json_to_dict_list(path_to_json)
    for student in students:
        if student["id"] == id:
            return student
    return "–ù–µ –Ω–∞–π–¥–µ–Ω–æ"
</code></pre>
<p>–ü–æ–∫–∞, –ø–æ–º–∏–º–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—Ç–∏–ø–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î), –æ–ø–∏—Å–∞–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–µ—Ä–Ω–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (—Ç–∞–∫ –∂–µ –æ–ø–∏—Å–∞–Ω–∞ —Ñ—É–∫–Ω—Ü–∏—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–Ω—Ñ—ã –¥–ª—è –∫–æ—Ä–Ω—è –∞–ø–∏ (/)). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (course, major –∏ enrollment_year) –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤. –¢–∞–∫ –∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–æ—É—Ç–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ –µ–≥–æ –∞–π–¥–∏.</p>
<h3 class="section-title">Pydantic, –º–æ–¥–µ–ª–∏</h3>
<p>–ú–æ–¥–µ–ª—å –≤ FastAPI ‚Äî —ç—Ç–æ –Ω–µ—á—Ç–æ –≤—Ä–æ–¥–µ —Å—Ö–µ–º—ã –∏–ª–∏ —à–∞–±–ª–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–∫–∞–∑–∞—Ç—å: "–í–æ—Ç –∫–∞–∫ –¥–æ–ª–∂–Ω—ã –≤—ã–≥–ª—è–¥–µ—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º." –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –º–æ–¥–µ–ª–µ–π –≤ FastAPI:</p>
<ul>
    <li><b>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:</b> –° –ø–æ–º–æ—â—å—é Pydantic –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–µ–Ω –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∏–º–µ–Ω–µ–º –∏ –≤–æ–∑—Ä–∞—Å—Ç–æ–º, –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ –∏–º—è ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, –∞ –≤–æ–∑—Ä–∞—Å—Ç ‚Äî —á–∏—Å–ª–æ.</li>
    <li><b>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</b> –ú–æ–¥–µ–ª–∏ –ø–æ–º–æ–≥–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ API. –ö–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –º–æ–≥—É—Ç –æ–∂–∏–¥–∞—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ.</li>
    <li><b>–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö:</b> –ú–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ SQLAlchemy, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</li>
    <li><b>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</b> –ú–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é –¥–∞—Ç—É, –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –æ–±—ä–µ–∫—Ç –¥–∞—Ç—ã.</li>
    <li><b>–û–ø–∏—Å–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä:</b> –ú–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.</li>
    <li><b>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã:</b> –ú–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤–∞—à–µ–≥–æ API.</li>
</ul>
<p><b>Pydantic</b></p>
<p>Pydantic ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ FastAPI –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏. –û–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω—É–∂–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–∞–º. –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –º–æ–¥–µ–ª–∏ –≤ FastAPI, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Pydantic. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã, –≤ –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å. </p>
<p>–ù–∞—á–Ω–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é POST-–∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ö–æ–¥ –≤ —Ñ–∞–π–ª–µ models.py:</p>
<pre><code class="lang-py">import re
from enum import Enum
from pydantic import BaseModel, EmailStr, Field, field_validator
from datetime import date, datetime
from typing import Optional


class Major(str, Enum):
    informatics = "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞"
    economics = "–≠–∫–æ–Ω–æ–º–∏–∫–∞"
    history = "–ò—Å—Ç–æ—Ä–∏—è"
    math = "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"
    bio = "–ë–∏–æ–ª–æ–≥–∏—è"
    eco = "–≠–∫–æ–ª–æ–≥–∏—è"
    psyho = "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è"


class Student(BaseModel):
    id: int
    phone_number: str = Field(..., description="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –≤ —Ñ–æ—Ä–º–∞—Ç–µ '+7–•–•–•–•–•–•–•–•–•–•'")
    last_name: str = Field(..., min_length=1, max_length=50, description="–§–∞–º–∏–ª–∏—è, –æ—Ç 1 –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤")
    date_of_birth: date = Field(..., description="–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ì–ì–ì–ì-–ú–ú-–î–î")
    email: EmailStr = Field(..., description="–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞")
    address: str = Field(..., min_length=10, max_length=200, description="–ê–¥—Ä–µ—Å, –Ω–µ –±–æ–ª–µ–µ 200 —Å–∏–º–≤–æ–ª–æ–≤")
    enrollment_year: int = Field(..., ge=2002, description="–ì–æ–¥ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è, –Ω–µ –º–µ–Ω—å—à–µ 2002")
    major: Major = Field( ..., description="–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å")
    course: int = Field(..., ge=1, le=5, description="–ö—É—Ä—Å, –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 1 –¥–æ 5")
    special_notes: Optional[str] = Field(
        default=None,
        max_length=500,
        description="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏, –Ω–µ –±–æ–ª–µ–µ 500 —Å–∏–º–≤–æ–ª–æ–≤",
    )

    @field_validator("phone_number")
    @classmethod
    def validate_phone_number(cls, value: str) -> str:
        if not re.match(r'^\+\d{2,15}$', value):
            raise ValueError('–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å "+" –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 2 –¥–æ 17 —Ü–∏—Ñ—Ä')
        return value

    @field_validator("date_of_birth")
    @classmethod
    def validate_date_of_birth(cls, value: date):
        if value and value >= datetime.now().date():
            raise ValueError('–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º')
        return value
</code></pre>
<p>–ö–ª–∞—Å—Å Major –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç str –∏ Enum –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π - –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π —á–ª–µ–Ω —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤–µ–∑–¥–µ, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —á–ª–µ–Ω–æ–≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ —É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —ç—Ç–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.</p>
<p>–ö–ª–∞—Å—Å Student –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –µ–≥–æ –¥–∞–Ω–Ω—ã—Ö. –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ POST-–∑–∞–ø—Ä–æ—Å–∞—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∞ —Ç–∞–∫–∂–µ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç—É–¥–µ–Ω—Ç–µ. –ö–ª–∞—Å—Å –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç BaseModel - —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞—à –∫–ª–∞—Å—Å –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Pydantic –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏ –¥–∞–Ω–Ω—ã—Ö. –û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å, –∫–∞–∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º, —Ç–∞–∫ –∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —É—Å–ª–æ–≤–∏–π. –ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ–ø–∏—Å–∞–Ω–∏–∏:</p>
<ul>
    <li><b>title:</b> –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ–ª—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ API.</li>
    <li><b>examples:</b> –ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–æ–ª—è. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –æ–±—É—á–µ–Ω–∏—è.</li>
    <li><b>gt, ge, lt, le:</b> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–±–æ–ª—å—à–µ, –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ, –º–µ–Ω—å—à–µ, –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ).</li>
    <li><b>multiple_of:</b> –ß–∏—Å–ª–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Ç–Ω–æ.</li>
    <li><b>max_digits, decimal_places:</b> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤).</li>
</ul>
